{"version":3,"file":"static/chunks/3617.63b62da139931dd4.js","mappings":"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","sources":["webpack://_N_E/../packages/plugins/content/slate/lib-es/components/Controls.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/components/DialogVisibleProvider.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/hooks/useAddPlugin.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/hooks/useCurrentNodeWithPlugin.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/hooks/useRemovePlugin.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/utils/getCurrentData.js","webpack://_N_E/<anon>"],"sourcesContent":["import React from 'react';\r\nimport PluginButton from './PluginButton';\r\nimport { useTheme } from '@mui/material';\r\nvar Controls = function (props) {\r\n    var plugins = props.plugins, translations = props.translations;\r\n    var theme = useTheme();\r\n    var dark = theme.palette.mode === 'dark';\r\n    return (React.createElement(\"div\", { style: { display: 'flex', flexDirection: 'column' } }, plugins &&\r\n        plugins.map(function (plugin, i) {\r\n            return plugin.addToolbarButton ? (React.createElement(PluginButton, { key: i, translations: translations, plugin: plugin, dark: dark })) : null;\r\n        })));\r\n};\r\nexport default React.memo(Controls);\r\n//# sourceMappingURL=Controls.js.map","var __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport React, { useContext, useMemo, useState } from 'react';\r\nvar DialogContext = React.createContext({});\r\nvar DialogVisibleProvider = function (_a) {\r\n    var children = _a.children;\r\n    var _b = __read(useState(false), 2), visible = _b[0], setVisible = _b[1];\r\n    var value = useMemo(function () { return ({ visible: visible, setVisible: setVisible }); }, [visible, setVisible]);\r\n    return (React.createElement(DialogContext.Provider, { value: value }, children));\r\n};\r\nexport var useDialogIsVisible = function () {\r\n    var _a;\r\n    return (_a = useContext(DialogContext)) === null || _a === void 0 ? void 0 : _a.visible;\r\n};\r\nexport var useSetDialogIsVisible = function () {\r\n    var _a;\r\n    return (_a = useContext(DialogContext)) === null || _a === void 0 ? void 0 : _a.setVisible;\r\n};\r\nexport default DialogVisibleProvider;\r\n//# sourceMappingURL=DialogVisibleProvider.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { useCallback } from 'react';\r\nimport { Transforms } from 'slate';\r\nimport { useSlate } from 'slate-react';\r\nimport { getCurrentNodeWithPlugin } from './useCurrentNodeWithPlugin';\r\nimport { removePlugin } from './useRemovePlugin';\r\nimport getCurrentData from '../utils/getCurrentData';\r\nexport var addPlugin = function (editor, plugin, props) {\r\n    var _a;\r\n    var _b = props || {}, passedData = _b.data, text = _b.text;\r\n    var currentNodeEntry = getCurrentNodeWithPlugin(editor, plugin);\r\n    if (text) {\r\n        var withExtraSpace = plugin.pluginType === 'component' &&\r\n            plugin.object === 'inline' &&\r\n            plugin.addExtraSpace;\r\n        var textToInsert = withExtraSpace ? text + ' ' : text;\r\n        editor.insertText(textToInsert);\r\n        if (editor.selection) {\r\n            Transforms.select(editor, {\r\n                anchor: editor.selection.anchor,\r\n                focus: __assign(__assign({}, editor.selection.focus), { offset: editor.selection.focus.offset - textToInsert.length }),\r\n            });\r\n        }\r\n    }\r\n    var data = passedData || (plugin.getInitialData ? plugin.getInitialData() : null);\r\n    if (currentNodeEntry) {\r\n        Transforms.select(editor, currentNodeEntry[1]);\r\n        removePlugin(editor, plugin);\r\n    }\r\n    // add new\r\n    if (plugin.customAdd) {\r\n        plugin.customAdd(editor);\r\n    }\r\n    else if (plugin.pluginType === 'component') {\r\n        if (plugin.object === 'mark') {\r\n            editor.addMark(plugin.type, data || true);\r\n        }\r\n        else if (plugin.isVoid) {\r\n            Transforms.insertNodes(editor, {\r\n                type: plugin.type,\r\n                data: data,\r\n                children: [{ text: '' }],\r\n            });\r\n        }\r\n        else {\r\n            if (plugin.object === 'block' && plugin.replaceWithDefaultOnRemove) {\r\n                Transforms.setNodes(editor, { type: plugin.type, data: data });\r\n            }\r\n            else {\r\n                Transforms.wrapNodes(editor, {\r\n                    type: plugin.type,\r\n                    children: [],\r\n                    data: data,\r\n                }, { split: true });\r\n                // workaround for inline problems in slate\r\n                if (plugin.object === 'inline' &&\r\n                    plugin.addExtraSpace &&\r\n                    !text &&\r\n                    editor.selection) {\r\n                    var focus_1 = __assign({}, editor.selection.focus);\r\n                    Transforms.insertText(editor, ' ', {\r\n                        at: editor.selection.focus,\r\n                    });\r\n                    Transforms.select(editor, focus_1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    else if (plugin.pluginType === 'data') {\r\n        var existingData = (_a = getCurrentData(editor)) !== null && _a !== void 0 ? _a : {};\r\n        Transforms.setNodes(editor, {\r\n            data: __assign(__assign({}, existingData), (data !== null && data !== void 0 ? data : {})),\r\n        });\r\n    }\r\n};\r\nexport default (function (plugin) {\r\n    var editor = useSlate();\r\n    return useCallback(function (props) {\r\n        return addPlugin(editor, plugin, props);\r\n    }, []);\r\n});\r\n//# sourceMappingURL=useAddPlugin.js.map","var __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { Editor } from 'slate';\r\nimport { useSlate } from 'slate-react';\r\nexport var getCurrentNodeWithPlugin = function (editor, plugin) {\r\n    if (plugin.pluginType === 'custom') {\r\n        return null;\r\n    }\r\n    var match = plugin.pluginType === 'component'\r\n        ? plugin.object === 'mark'\r\n            ? function (elem) { return Boolean(elem[plugin.type]); }\r\n            : function (elem) { return elem.type === plugin.type; }\r\n        : plugin.pluginType === 'data'\r\n            ? // search for data\r\n                function (_a) {\r\n                    var data = _a.data;\r\n                    var matches = plugin.dataMatches(data);\r\n                    return matches;\r\n                }\r\n            : null;\r\n    if (!match) {\r\n        return null;\r\n    }\r\n    try {\r\n        var _a = __read(Editor.nodes(editor, {\r\n            match: match,\r\n            mode: 'lowest', // FIXME: whats the best value?\r\n        }), 1), matchingNode = _a[0];\r\n        return matchingNode;\r\n    }\r\n    catch (e) {\r\n        // seems to crash sometimes on redu\r\n        return null;\r\n    }\r\n};\r\nexport default (function (plugin) {\r\n    var editor = useSlate();\r\n    return getCurrentNodeWithPlugin(editor, plugin);\r\n});\r\n//# sourceMappingURL=useCurrentNodeWithPlugin.js.map","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { useCallback } from 'react';\r\nimport { Transforms } from 'slate';\r\nimport { useSlate } from 'slate-react';\r\nimport getCurrentData from '../utils/getCurrentData';\r\nexport var removePlugin = function (editor, plugin) {\r\n    if (plugin.customRemove) {\r\n        plugin.customRemove(editor);\r\n    }\r\n    else if (plugin.pluginType === 'component') {\r\n        if (plugin.object === 'mark') {\r\n            editor.removeMark(plugin.type);\r\n        }\r\n        else if (plugin.object === 'inline') {\r\n            if (plugin.isVoid) {\r\n                Transforms.removeNodes(editor, {\r\n                    match: function (elem) { return elem.type === plugin.type; },\r\n                });\r\n            }\r\n            else {\r\n                Transforms.unwrapNodes(editor, {\r\n                    match: function (elem) { return elem.type === plugin.type; },\r\n                });\r\n            }\r\n            // Transforms.setNodes(editor, { type: null });\r\n        }\r\n        else if (plugin.object === 'block') {\r\n            if (plugin.isVoid) {\r\n                Transforms.removeNodes(editor, {\r\n                    match: function (elem) { return elem.type === plugin.type; },\r\n                });\r\n            }\r\n            else if (plugin.replaceWithDefaultOnRemove) {\r\n                Transforms.setNodes(editor, {\r\n                    type: null,\r\n                });\r\n            }\r\n            else {\r\n                Transforms.unwrapNodes(editor, {\r\n                    match: function (elem) { return elem.type === plugin.type; },\r\n                    split: true,\r\n                });\r\n            }\r\n        }\r\n    }\r\n    else if (plugin.pluginType === 'data') {\r\n        if (!plugin.properties) {\r\n            // can't be removed\r\n        }\r\n        else {\r\n            var existingData_1 = getCurrentData(editor);\r\n            var dataWithout = Object.keys(existingData_1).reduce(function (acc, key) {\r\n                var _a;\r\n                var _b;\r\n                if ((_b = plugin.properties) === null || _b === void 0 ? void 0 : _b.includes(key)) {\r\n                    return acc;\r\n                }\r\n                return __assign(__assign({}, acc), (_a = {}, _a[key] = existingData_1[key], _a));\r\n            }, {});\r\n            Transforms.setNodes(editor, {\r\n                data: dataWithout,\r\n            });\r\n        }\r\n    }\r\n};\r\nexport default (function (plugin) {\r\n    var editor = useSlate();\r\n    return useCallback(function () { return removePlugin(editor, plugin); }, []);\r\n});\r\n//# sourceMappingURL=useRemovePlugin.js.map","var __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport { Editor } from 'slate';\r\nvar getCurrentData = function (editor) {\r\n    var _a;\r\n    var _b = __read(Editor.nodes(editor, {\r\n        mode: 'all',\r\n        match: function (node) {\r\n            return Boolean(node.data);\r\n        },\r\n    }), 1), existingNodeWithData = _b[0];\r\n    var existingData = existingNodeWithData\r\n        ? (_a = existingNodeWithData[0]) === null || _a === void 0 ? void 0 : _a.data\r\n        : {};\r\n    return existingData;\r\n};\r\nexport default getCurrentData;\r\n//# sourceMappingURL=getCurrentData.js.map"],"names":["__webpack_exports__","react__WEBPACK_IMPORTED_MODULE_0__","memo","props","plugins","translations","dark","theme","_mui_material__WEBPACK_IMPORTED_MODULE_1__","Z","palette","mode","createElement","style","display","flexDirection","map","plugin","i","addToolbarButton","_PluginButton__WEBPACK_IMPORTED_MODULE_2__","key","__read","o","n","m","Symbol","iterator","r","e","call","ar","next","done","push","value","error","DialogContext","createContext","useDialogIsVisible","_a","useContext","visible","useSetDialogIsVisible","setVisible","children","_b","useState","useMemo","Provider","__assign","Object","assign","t","s","arguments","length","p","prototype","hasOwnProperty","apply","addPlugin","editor","passedData","data","text","currentNodeEntry","_useCurrentNodeWithPlugin__WEBPACK_IMPORTED_MODULE_1__","L","textToInsert","withExtraSpace","pluginType","object","addExtraSpace","insertText","selection","slate__WEBPACK_IMPORTED_MODULE_2__","Transforms","select","anchor","focus","offset","getInitialData","_useRemovePlugin__WEBPACK_IMPORTED_MODULE_3__","J","customAdd","addMark","type","isVoid","insertNodes","replaceWithDefaultOnRemove","setNodes","wrapNodes","split","focus_1","at","existingData","_utils_getCurrentData__WEBPACK_IMPORTED_MODULE_4__","slate_react__WEBPACK_IMPORTED_MODULE_5__","ui","useCallback","getCurrentNodeWithPlugin","match","elem","Boolean","dataMatches","slate__WEBPACK_IMPORTED_MODULE_0__","Editor","nodes","slate_react__WEBPACK_IMPORTED_MODULE_1__","removePlugin","customRemove","removeMark","slate__WEBPACK_IMPORTED_MODULE_1__","removeNodes","unwrapNodes","properties","existingData_1","_utils_getCurrentData__WEBPACK_IMPORTED_MODULE_2__","dataWithout","keys","reduce","acc","includes","slate_react__WEBPACK_IMPORTED_MODULE_3__","existingNodeWithData","node"],"sourceRoot":""}