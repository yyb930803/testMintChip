{"version":3,"file":"static/chunks/5788.946017eb54ca29a7.js","mappings":"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","sources":["webpack://_N_E/../packages/editor/lib-es/core/utils/objIsNode.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/components/DialogVisibleProvider.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/slateEnhancer/withInline.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/slateEnhancer/withPaste.js","webpack://_N_E/../packages/plugins/content/slate/lib-es/components/SlateProvider.js","webpack://_N_E/<anon>"],"sourcesContent":["// poor check\r\nexport var objIsNode = function (obj) {\r\n    if (!obj)\r\n        return false;\r\n    if (!('id' in obj)) {\r\n        return false;\r\n    }\r\n    return true;\r\n};\r\n//# sourceMappingURL=objIsNode.js.map","var __read = (this && this.__read) || function (o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n};\r\nimport React, { useContext, useMemo, useState } from 'react';\r\nvar DialogContext = React.createContext({});\r\nvar DialogVisibleProvider = function (_a) {\r\n    var children = _a.children;\r\n    var _b = __read(useState(false), 2), visible = _b[0], setVisible = _b[1];\r\n    var value = useMemo(function () { return ({ visible: visible, setVisible: setVisible }); }, [visible, setVisible]);\r\n    return (React.createElement(DialogContext.Provider, { value: value }, children));\r\n};\r\nexport var useDialogIsVisible = function () {\r\n    var _a;\r\n    return (_a = useContext(DialogContext)) === null || _a === void 0 ? void 0 : _a.visible;\r\n};\r\nexport var useSetDialogIsVisible = function () {\r\n    var _a;\r\n    return (_a = useContext(DialogContext)) === null || _a === void 0 ? void 0 : _a.setVisible;\r\n};\r\nexport default DialogVisibleProvider;\r\n//# sourceMappingURL=DialogVisibleProvider.js.map","var withInline = function (plugins) { return function (editor) {\r\n    var isInline = editor.isInline, isVoid = editor.isVoid;\r\n    editor.isInline = function (element) {\r\n        return plugins.some(function (plugin) {\r\n            return plugin.pluginType === 'component' &&\r\n                plugin.object === 'inline' &&\r\n                plugin.type === element.type;\r\n        })\r\n            ? true\r\n            : isInline(element);\r\n    };\r\n    editor.isVoid = function (element) {\r\n        return plugins.some(function (plugin) {\r\n            return plugin.pluginType === 'component' &&\r\n                (plugin.object === 'block' || plugin.object === 'inline') &&\r\n                plugin.type === element.type &&\r\n                plugin.isVoid;\r\n        })\r\n            ? true\r\n            : isVoid(element);\r\n    };\r\n    return editor;\r\n}; };\r\nexport default withInline;\r\n//# sourceMappingURL=withInline.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nimport { objIsNode } from '@react-page/editor';\r\nimport { Transforms } from 'slate';\r\nimport { HtmlToSlate } from '../htmlToSlate';\r\nvar withPaste = function (plugins, defaultPluginType) { return function (editor) {\r\n    var insertData = editor.insertData;\r\n    var htmlToSlate = HtmlToSlate({ plugins: plugins });\r\n    editor.insertData = function (data) { return __awaiter(void 0, void 0, void 0, function () {\r\n        var slateData, html, slate, text, node, lines, nextWillbeParagraph, i, thisLine, nextLine, nextIsEmpty, thisLineText;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    slateData = data.getData('application/x-slate-fragment');\r\n                    if (slateData) {\r\n                        insertData(data);\r\n                        return [2 /*return*/];\r\n                    }\r\n                    html = data.getData('text/html');\r\n                    if (!html) return [3 /*break*/, 2];\r\n                    return [4 /*yield*/, htmlToSlate(html)];\r\n                case 1:\r\n                    slate = (_a.sent()).slate;\r\n                    Transforms.insertFragment(editor, slate);\r\n                    return [2 /*return*/];\r\n                case 2:\r\n                    text = data.getData('text/plain');\r\n                    if (text) {\r\n                        // check if its a react-page data\r\n                        try {\r\n                            node = JSON.parse(text);\r\n                            if (objIsNode(node)) {\r\n                                return [2 /*return*/];\r\n                            }\r\n                        }\r\n                        catch (e) {\r\n                            //ignore\r\n                        }\r\n                        lines = text.split('\\n');\r\n                        nextWillbeParagraph = false;\r\n                        for (i = 0; i < lines.length; i++) {\r\n                            thisLine = lines[i];\r\n                            nextLine = lines[i + 1];\r\n                            nextIsEmpty = !nextLine || !nextLine.trim();\r\n                            thisLineText = thisLine + (nextIsEmpty ? '' : '\\n');\r\n                            if (!thisLine.trim()) {\r\n                                // this line is empty,\r\n                                nextWillbeParagraph = true;\r\n                            }\r\n                            else if (nextWillbeParagraph) {\r\n                                Transforms.insertNodes(editor, {\r\n                                    type: defaultPluginType,\r\n                                    children: [{ text: thisLineText }],\r\n                                });\r\n                                nextWillbeParagraph = false;\r\n                            }\r\n                            else {\r\n                                Transforms.insertText(editor, thisLineText);\r\n                                nextWillbeParagraph = false;\r\n                            }\r\n                        }\r\n                        return [2 /*return*/];\r\n                    }\r\n                    insertData(data);\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    }); };\r\n    return editor;\r\n}; };\r\nexport default withPaste;\r\n//# sourceMappingURL=withPaste.js.map","import { deepEquals } from '@react-page/editor';\r\nimport React, { useCallback, useEffect, useMemo } from 'react';\r\nimport { createEditor, Transforms } from 'slate';\r\nimport { ReactEditor, Slate, withReact } from 'slate-react';\r\nimport withInline from '../slateEnhancer/withInline';\r\nimport withPaste from '../slateEnhancer/withPaste';\r\nimport DialogVisibleProvider from './DialogVisibleProvider';\r\nvar SlateProvider = function (props) {\r\n    var data = props.data, plugins = props.plugins, children = props.children, defaultPluginType = props.defaultPluginType;\r\n    var editor = useMemo(function () {\r\n        return withPaste(plugins, defaultPluginType)(withReact(withInline(plugins)(createEditor())));\r\n    }, []);\r\n    // unfortunatly, slate broke the controlled input pattern. So we have to hack our way around it, see https://github.com/ianstormtaylor/slate/issues/4992\r\n    useMemo(function () {\r\n        // better do this in use effect to avoid certain timing edge cases\r\n        editor.children = data === null || data === void 0 ? void 0 : data.slate;\r\n    }, [data === null || data === void 0 ? void 0 : data.slate]);\r\n    useEffect(function () {\r\n        try {\r\n            // focus\r\n            ReactEditor.focus(editor);\r\n        }\r\n        catch (e) {\r\n            // ignore, can happen\r\n        }\r\n        if (data.selection) {\r\n            // update seleciton, if changed from outside (e.g. through undo)\r\n            Transforms.select(editor, data.selection);\r\n        }\r\n        else {\r\n            // deselect, otherwise slate might throw an eerror if cursor is now on a non existing dom node\r\n            Transforms.deselect(editor);\r\n        }\r\n    }, [data === null || data === void 0 ? void 0 : data.slate, data === null || data === void 0 ? void 0 : data.selection]);\r\n    var onChange = useCallback(function () {\r\n        var dataEqual = deepEquals(editor.children, data === null || data === void 0 ? void 0 : data.slate);\r\n        var selectionEqual = deepEquals(editor.selection, data === null || data === void 0 ? void 0 : data.selection);\r\n        if (!dataEqual || !selectionEqual)\r\n            props.onChange({\r\n                slate: editor.children,\r\n                selection: editor.selection,\r\n            }, {\r\n                // mark as not undoable when state is same\r\n                // that happens if only selection was changed\r\n                notUndoable: dataEqual,\r\n            });\r\n    }, [data === null || data === void 0 ? void 0 : data.slate, props.onChange]);\r\n    var initialValue = data === null || data === void 0 ? void 0 : data.slate;\r\n    return (React.createElement(DialogVisibleProvider, null,\r\n        React.createElement(Slate, { editor: editor, value: initialValue /*\r\n        this is confusingly only for the initial value since slate 0.70something, see https://github.com/ianstormtaylor/slate/issues/4992\r\n      */, onChange: onChange }, children)));\r\n};\r\nexport default SlateProvider;\r\n//# sourceMappingURL=SlateProvider.js.map"],"names":["objIsNode","obj","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","DialogContext","react__WEBPACK_IMPORTED_MODULE_0__","createContext","useDialogIsVisible","_a","useContext","visible","useSetDialogIsVisible","setVisible","__webpack_exports__","children","_b","useState","useMemo","createElement","Provider","__generator","thisArg","body","f","y","t","g","_","label","sent","trys","ops","verb","v","step","op","pop","length","components_SlateProvider","props","data","plugins","defaultPluginType","editor","react","isInline","isVoid","insertData","htmlToSlate","dist_index_es","BU","index_es","createEditor","element","some","plugin","pluginType","object","type","lib_es_htmlToSlate","P","_arguments","generator","html","slate","text","node","lines","nextWillbeParagraph","thisLine","nextLine","thisLineText","getData","Transforms","insertFragment","JSON","parse","G","split","nextIsEmpty","trim","insertNodes","insertText","Promise","resolve","reject","fulfilled","rejected","result","adopt","then","apply","useEffect","F3","focus","selection","select","deselect","onChange","useCallback","dataEqual","deepEquals","Z","selectionEqual","notUndoable","initialValue","DialogVisibleProvider","ZP","mH"],"sourceRoot":""}